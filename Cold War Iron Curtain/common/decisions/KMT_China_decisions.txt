

Chinese_Civil_War_missions_category = {

    


    The_Chinese_Civil_war = {
	    icon = generic_prepare_civil_war
	    allowed = {
		major_countries = yes
	    }
	    available = {
			always = no
	    }
	    fire_only_once = yes
	    days_mission_timeout = 740
	    cancel_trigger = {
		    OR = {
				has_global_flag = chinese_civil_war_over
				PRC = {
					NOT = {
						has_war_with = CHI
					}
				}
			}
	    }
	    timeout_effect = {
			if = {
				limit = {
					tag = PRC
				}
				if = {
					limit = {
						PRC = {
							surrender_progress > 0.79
						}
					}
					PRC_Lose_CCW = yes
				}
				else_if = {
					limit = {
						PRC = {
							has_global_flag = roc_rebound_shanghai
							surrender_progress > 0.59
						}
					}
					PRC_Lose_CCW = yes
				}
				else = {
					ROC_lose_CCW = yes
				}
			}
		    else = {
			    effect_tooltip = {
				    if = {
					    limit = {
						    PRC = {
							  surrender_progress > 0.79
						    } 
					    }
					  PRC_Lose_CCW = yes
				    }
				    else_if = {
					    limit = {
						    PRC = {
							     has_global_flag = roc_rebound_shanghai
							     surrender_progress > 0.59
						    }
					    }
					    PRC_Lose_CCW = yes
				    }
				    else = {
					    ROC_lose_CCW = yes
				    }
			    }
		    }
	    }
    }
  
    The_Shanghai_Campaign = {

		icon = generic_prepare_civil_war
		allowed = {
			tag = CHI
		}

		available = {
			613 = { is_fully_controlled_by = PRC  } 
		}
		activation = {
			always = no
		}
		cost = 0

		fire_only_once = yes
		selectable_mission = yes

		days_mission_timeout = 50

		complete_effect = {
			news_event = Shanghai_Campaign.1
			if = {
					limit = {
						has_game_rule = {
								rule = chinese_civil_war_mode
								option = New_Chinese_Civil_War
						}
					}
					Conquered_buff_PRC_shanghai = yes
			}
			
		}

		timeout_effect = {
			if = {
				limit = {
					613 = { is_fully_controlled_by = PRC  } 
				}
				news_event = Shanghai_Campaign.1
				if = {
					limit = {
						has_game_rule = {
								rule = chinese_civil_war_mode
								option = New_Chinese_Civil_War
						}
					}
					Conquered_buff_PRC_shanghai = yes
				}  
				
	
			}
			else = {
				news_event = Shanghai_Campaign.2 
				set_global_flag = roc_rebound_shanghai
				add_days_mission_timeout = {
					mission = The_Chinese_Civil_war
					days = 300
				}
				if = {
					limit = {
						has_game_rule = {
								rule = chinese_civil_war_mode
								option = New_Chinese_Civil_War
						}
					}
					Defense_buff_chi_shanghai = yes 
				}
		    }
			

		   
	    }
    }
	
	The_Hunan_Campaign = {

		icon = generic_prepare_civil_war
		allowed = {
			tag = CHI
		}

		available = {
			#602 = { is_fully_controlled_by = PRC  } 
			PRC = { controls_state = 602 }
		}
		activation = {
			always = no
		}
		cost = 0

		fire_only_once = yes
		selectable_mission = yes

		days_mission_timeout = 60

		complete_effect = {
			if = {
					limit = {
						has_game_rule = {
								rule = chinese_civil_war_mode
								option = New_Chinese_Civil_War
						}
					}
					Defense_weaken_chi_hunan = yes
					Defense_conquered_prc_hunan = yes
			}
		}

		timeout_effect = {
			if = {
				limit = {
					PRC = { controls_state = 602 }
				}
				if = {
					limit = {
						has_game_rule = {
								rule = chinese_civil_war_mode
								option = New_Chinese_Civil_War
						}
					}
					Defense_conquered_prc_hunan = yes 
					Defense_weaken_chi_hunan = yes
				}
				
	
			}
			else = {
				if = {
					limit = {
						has_game_rule = {
								rule = chinese_civil_war_mode
								option = New_Chinese_Civil_War
						}
					}
					Defense_weaken_prc_hunan = yes
					Defense_buff_chi_hunan = yes
				}	
					 
		    }

		  
	    }
    }
	
	The_Sichuan_Campaign = {

		icon = generic_prepare_civil_war
		allowed = {
			tag = CHI
		}

		available = {
			#601 = { is_fully_controlled_by = PRC  } 
			PRC = { controls_state = 601 }
		}
		activation = {
			always = no
		}
		cost = 0

		fire_only_once = yes
		selectable_mission = yes

		days_mission_timeout = 65

		complete_effect = {
			if = {
					limit = {
						has_game_rule = {
								rule = chinese_civil_war_mode
								option = New_Chinese_Civil_War
						}
					}
					Defense_weaken_chi_Sichuan = yes
					Defense_conquered_prc_Sichuan = yes
			}
			
		}

		timeout_effect = {
			if = {
				limit = {

					PRC = { controls_state = 601 }
				}
				if = {
					limit = {
						has_game_rule = {
								rule = chinese_civil_war_mode
								option = New_Chinese_Civil_War
						}
					}
					Defense_conquered_prc_Sichuan = yes 
					Defense_weaken_chi_Sichuan = yes
				}

			}
			else = {
				if = {
					limit = {
						has_game_rule = {
								rule = chinese_civil_war_mode
								option = New_Chinese_Civil_War
						}
					}
					Defense_weaken_prc_Sichuan = yes
					Defense_buff_chi_Sichuan = yes
				}						 
		    }

		 
	    }
    }
	
	CHI_Make_concessions_to_Xinjiang = {#国民党对新疆做出让步
          visible = {
               PRC= {
                   has_war_with = CHI
               }
               tag = CHI
          }
          cost = 50
          available = {
              tag = CHI
               PRC= {
                   has_war_with = CHI
               }
          }
          complete_effect = {
          }
          days_remove = 10
          remove_effect = {
               SIK = {
                   add_popularity = {
                        ideology = communism
                        popularity = 0.1
                    }
               }
               set_variable = { CHI.xinjiang_infulence = 10 }
          }
    }
    CHI_Arrest_CPC_Spies = {#杀共谍
          visible = {
               check_variable = { PRC.cww_infiltrate > 0 }
               tag = CHI
          }
          cost = 50
          available = {
            tag = CHI
            check_variable = { PRC.cww_infiltrate > 0 }
          }
          complete_effect = {
               
          }
          days_remove = 10
        remove_effect = {
            PRC = {
                add_manpower = -20
            }
               
            add_to_variable = { PRC.cww_infiltrate = -10 }
        }
    }
    CHI_Rebellious_Troops = {#国军起义                        
        allowed = {
              tag = CHI
        }                 
        available = {                           
            CHI = {
                NOT = {
                    has_war_with = PRC
                }
            }                  
        }
        activation = {                          
            CHI = {
                has_war_with = PRC
            }                      
        }                      
        selectable_mission = no               
        days_mission_timeout = 150             
        timeout_effect = {                      
            PRC = {
                transfer_units_fraction= {
				    target = CHI
				    size = 0.3
				    stockpile_ratio = 0.03
				    army_ratio = 0.01
				    navy_ratio = 0
				    air_ratio = 0.01
				    keep_unit_leaders_trigger = {
				    	always = yes
				}
			    }
            }
        }
        complete_effect = {                    
           add_political_power = 50 
        }
    } 
 
    
 

}

Chinese_faction_category = {

	
	Escalate_war_PRC = {
	 
	  icon = generic_prepare_civil_war
		allowed = {
			tag = CHI
		}
		visible = {has_completed_focus = KMT_60s_test_prc}
		
		available = {
		  CHI = { has_completed_focus = KMT_60s_test_prc }
		  #has_country_flag = prc_border_conflict
		}  
		activation = {
			always = yes
		}  
		
		cost = 100
		days_remove = 10
		fire_only_once = yes
		
		remove_effect = {
			declare_war_on = {
				target = PRC
				type = annex_everything
			}
			news_event = {id = bss.401 days = 2}	
		
        }
	 
		 
    }
	
	Declare_Victory_over_Socialism_in_China = {
	 
	  icon = generic_prepare_civil_war
		allowed = {
			tag = CHI
		}
		visible = {has_completed_focus = KMT_60s_test_prc}
		
		available = {
		  CHI = { has_completed_focus = KMT_60s_test_prc }
		  NOT = {country_exists = PRC}
		}  
		activation = {
			always = yes
		}  
		
		cost = 0
		days_remove = 0
		fire_only_once = yes
		
		remove_effect = {
			add_stability = 0.10
			add_war_support = 0.10
			news_event = bss.402	
		
        }
	 
		 
    }
	
	Negotiate_Ports = {
	 
	  icon = generic_industry
		allowed = {
			tag = CHI
		}
		visible = {
		  CHI = { has_completed_focus = KMT_60s_ROC_in_the_world }
			OR = {
			
			      has_completed_focus = KMT_60s_renegotiate_over_HK_Macau 
			      has_completed_focus = KMT_60s_ports
			}
		 }  
		 
		available = {
		   
		    OR = {
			      has_completed_focus = KMT_60s_renegotiate_over_HK_Macau 
			      has_completed_focus = KMT_60s_ports
			}
		  
		}  
		 
		activation = {
			always = yes
		}  
		
		cost = 100
		days_remove = 20
		fire_only_once = yes
		
		remove_effect = {
			  ENG = {country_event = bss.11}
			  POR = {country_event = bss.12}
			  
			}   
		
    }
	
	Invite_Siam_Council = {
	 
	  icon = generic_industry
		allowed = {
			tag = CHI
		}
		visible = {
		  CHI = { has_completed_focus = KMT_70s_establish_treaty_institutions }
		 }  
		 
		available = {
		   
		    

			      has_completed_focus = KMT_70s_establish_treaty_institutions
			
		  
		}  
		 
		activation = {
			always = yes
		}  
		
		cost = 100
		days_remove = 20
		fire_only_once = yes
		
		remove_effect = {
			  SIA = {country_event = KMT_70s.20}
			  
		}   
		
    }
	
	Invite_Phillipines_Council = {
	 
	  icon = generic_industry
		allowed = {
			tag = CHI
		}
		visible = {
		  CHI = { has_completed_focus = KMT_70s_establish_treaty_institutions }
		 }  
		 
		available = {
		   
		    
			      
			      has_completed_focus = KMT_70s_establish_treaty_institutions
			
		  
		}  
		 
		activation = {
			always = yes
		}  
		
		cost = 100
		days_remove = 20
		fire_only_once = yes
		
		remove_effect = {
			  PHI = {country_event = KMT_70s.20}
			  
		}  
		
    }
	
#	Invite_Japan_Council = {
#	 
#	  icon = generic_industry
#		allowed = {
#			tag = CHI
#		}
#		visible = {
#		  CHI = { has_completed_focus = KMT_70s_establish_treaty_institutions }
#		 }  
#		 
#		available = {
#		   
#		    
#			      has_completed_focus = KMT_70s_Sign_Joint_Communique
#			      has_completed_focus = KMT_70s_establish_treaty_institutions
#			
#		  
#		}  
#		 
#		activation = {
#			always = yes
#		}  
#		
#		cost = 100
#		days_remove = 20
#		fire_only_once = yes
#		
#		remove_effect = {
#			  JAP = {country_event = KMT_70s.20}
#			  
#		}   
#		
#    }
	
 
}

Sino_American_Relations_Taiwan_50s_category = {

		buy_american_rifles = {
		
			allowed = {tag = CHI}
			visible = {has_global_flag = ROC_Taiwan}
			available = {
				CHI = { has_completed_focus = CHI_American_Arms }
			}
			activation = { always = yes }
			cost = 75
			days_remove = 20
		
			
			remove_effect = {
				add_equipment_to_stockpile = {
				type = infantry_equipment_0
				amount = 8000
				producer = USA
				}
			}
			days_re_enable = 180 
		}
		
		buy_american_support_equipment = {
		
			allowed = {tag = CHI}
			visible = {has_global_flag = ROC_Taiwan}
			available = {
				CHI = { has_completed_focus = CHI_American_Arms }
			}
			activation = { always = yes }
			cost = 80
			days_remove = 20
		
			
			remove_effect = {
				add_equipment_to_stockpile = {
				  type = support_equipment
				  amount = 1000
				  producer = USA
				}
			}
			days_re_enable = 180 
		}
		
		buy_american_trucks = {
		
			allowed = {tag = CHI}
			visible = {has_global_flag = ROC_Taiwan}
			available = {
				CHI = { has_completed_focus = CHI_American_Arms }
			}
			activation = { always = yes }
			cost = 80
			days_remove = 20
		
			
			remove_effect = {
				add_equipment_to_stockpile = {
				  type = motorized_equipment
				  amount = 300
				  producer = USA
				}
			}
			days_re_enable = 180 
		}

		buy_american_artillery = {
		
			allowed = {tag = CHI}
			visible = {has_global_flag = ROC_Taiwan}
			available = {
				CHI = { has_completed_focus = CHI_American_Arms }
			}
			activation = { always = yes }
			cost = 100
			days_remove = 30
		
			
			remove_effect = {
				add_equipment_to_stockpile = {
				  type = artillery_equipment
				  amount = 600
				  producer = USA
				}
				add_equipment_to_stockpile = {
				  type = auto_cannon_equipment
				  amount = 400
				  producer = USA
				} 
				add_equipment_to_stockpile = {
				  type = direct_fire_gun_equipment
				  amount = 400
				  producer = USA
				} 
			}
			days_re_enable = 180 
		}
		
		buy_american_planes = {
		
			allowed = {tag = CHI}
			visible = {has_global_flag = ROC_Taiwan}
			available = {
				CHI = { has_completed_focus = CHI_Surplus_American_Aircraft}
			}
			activation = { always = yes }
			cost = 200
			days_remove = 30
		
			
			remove_effect = {
				add_equipment_to_stockpile = {
				  type = fighter_equipment
				  amount = 400
				  producer = USA
				}
			}
			days_re_enable = 180 
		}
		
		buy_american_landing_ships = {
		
			allowed = {tag = CHI}
			visible = {has_global_flag = ROC_Taiwan}
			available = {
				CHI = { has_completed_focus = CHI_Purchase_American_Destroyers}
			}
			activation = { always = yes }
			cost = 70
			days_remove = 30
		
			
			remove_effect = {
				add_equipment_to_stockpile = {
				  type = convoy
				  amount = 200
				  producer = USA
				}
			}
			days_re_enable = 180 
		}
		
		bribe_american_officials = {
		
			allowed = {tag = CHI}
			visible = {has_global_flag = ROC_Taiwan}
			available = {
				CHI = { has_completed_focus = CHI_indoctrinate_officiers}
			}
			activation = { always = yes }
			cost = 60
			days_remove = 10
		
			
			remove_effect = {
				custom_effect_tooltip = decrease_us_influence_on_taiwan_tt 
				
			}
			days_re_enable = 120 
		}
		
		grant_more_power_to_us_advisers = {
		
			allowed = {tag = CHI}
			visible = {has_global_flag = ROC_Taiwan}
			available = {
				CHI = { has_completed_focus = CHI_empower_the_maag}
			}
			activation = { always = yes }
			cost = 60
			days_remove = 10
		
			
			remove_effect = {
				custom_effect_tooltip = increase_us_influence_on_taiwan_tt 
				
			}
			days_re_enable = 120 
		}



}

Chiang_Ching_kuo_Infrastructure_projects_category = {

	Build_CKS_Airport = {
		icon = generic_industry
		
		allowed = { tag = CHI }
		
		visible = {
			CHI = { has_completed_focus = KMT_70s_More_Infrastructure }
		}
		
		available = { has_completed_focus = KMT_70s_Build_CKS_airport_Chongqing }
		
		activation = { always = yes }
		
		cost = 80
		days_remove = 90
		
		fire_only_once = yes
		
		remove_effect = {
			
			news_event = KMT_70s.8 
			601 = {

				add_building_construction = {
					type = air_base
					level = 8

					instant_build = yes
				}

		
			}
			
		}
	}
	
	Build_Nanjing_Museum = {
		icon = generic_industry
		
		allowed = { tag = CHI }
		
		visible = {
			CHI = { has_completed_focus = KMT_70s_More_Infrastructure }
		}
		
		available = { has_completed_focus = KMT_70s_Open_the_nanjing_memorial_museum }
		
		activation = { always = yes }
		
		cost = 60
		days_remove = 90
		
		fire_only_once = yes
		
		remove_effect = {
			
			add_stability = 0.01
			598 = {
				add_building_construction = {
					type = office_park
					level = 2
					instant_build = yes
				}
			}
			
		}
	}
	
	Build_Infrastructure = {
		icon = generic_industry
		
		allowed = { tag = CHI }
		
		visible = {
			CHI = { has_completed_focus = KMT_70s_More_Infrastructure }
		}
		
		available = { has_completed_focus = KMT_70s_More_Infrastructure_2 }
		
		activation = { always = yes }
		
		cost = 100
		days_remove = 120
		
		fire_only_once = yes
		
		remove_effect = { 
			
			608 = {
				add_building_construction = {
					type = state_infrastructure
					level = 1
					instant_build = yes
				}
			}
			607 = {
				add_building_construction = {
					type = state_infrastructure
					level = 1
					instant_build = yes
				}
			}
			604 = {
				add_building_construction = {
					type = state_infrastructure
					level = 1
					instant_build = yes
				}
			}
			602 = {
				add_building_construction = {
					type = state_infrastructure
					level = 1
					instant_build = yes
				}
			}
			605 = {
				add_building_construction = {
					type = state_infrastructure
					level = 1
					instant_build = yes
				}
			}
			325 = {
				add_building_construction = {
					type = state_infrastructure
					level = 1
					instant_build = yes
				}
			}
			716 = {
				add_building_construction = {
					type = state_infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			
		}
	}
	
	Build_Railroads = {
		icon = generic_industry
		
		allowed = { tag = CHI }
		
		visible = {
			CHI = { has_completed_focus = KMT_70s_More_Infrastructure }
		}
		
		available = { has_completed_focus = KMT_70s_More_Infrastructure_2_railroads }
		
		activation = { always = yes }
		
		cost = 150
		days_remove = 180
		
		fire_only_once = yes
		
		remove_effect = {
			
			build_railway = {
             level = 2
             fallback = yes
             start_province = 4192
             target_province = 6999
            }
			 
		    build_railway = {
             level = 2
             fallback = yes
             start_province = 7940
             target_province = 4709
            }
			
			build_railway = {
             level = 2
             fallback = yes
             start_province = 4709
             target_province = 2028
            }
			
			build_railway = {
             level = 2
             fallback = yes
             start_province = 2028
             target_province = 8081
            }
			
			build_railway = {
             level = 2
             fallback = yes
             start_province = 8081
             target_province = 4525
            }
			
			build_railway = {
             level = 2
             fallback = yes
             start_province = 4525
             target_province = 1723
            }
			
			build_railway = {
             level = 2
             fallback = yes
             start_province = 4525
             target_province = 1811
            }
			
			hidden_effect = {
				283 = {
					add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province = 2028
					}	
				}
				617 = {
					add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province = 4709
					}	
				}
				616 = {
					add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province = 8081
					}	
				}
			}
		}
	}
	
	Build_Streets_Water = {
		icon = generic_industry
		
		allowed = { tag = CHI }
		
		visible = {
			CHI = { has_completed_focus = KMT_70s_More_Infrastructure }
		}
		
		available = { has_completed_focus = KMT_70s_More_Infrastructure_2_water_supply_streets }
		
		activation = { always = yes }
		
		cost = 50
		days_remove = 90
		
		fire_only_once = yes
		
		remove_effect = {
			
			608 = {
				add_building_construction = {
					type = water_infrastructure
					level = 1
					instant_build = yes
				}
			}
			607 = {
				add_building_construction = {
					type = water_infrastructure
					level = 1
					instant_build = yes
				}
			}
			604 = {
				add_building_construction = {
					type = water_infrastructure
					level = 1
					instant_build = yes
				}
			}
			602 = {
				add_building_construction = {
					type = water_infrastructure
					level = 1
					instant_build = yes
				}
			}
			605 = {
				add_building_construction = {
					type = water_infrastructure
					level = 1
					instant_build = yes
				}
			}
			597 = {
				add_building_construction = {
					type = water_infrastructure
					level = 1
					instant_build = yes
				}
			}
			613 = {
				add_building_construction = {
					type = water_infrastructure
					level = 1
					instant_build = yes
				}
			}
			606 = {
				add_building_construction = {
					type = water_infrastructure
					level = 1
					instant_build = yes
				}
			}
			
		}
	}
	
	Build_harbours = {
		icon = generic_industry
		
		allowed = { tag = CHI }
		
		visible = {
			CHI = { has_completed_focus = KMT_70s_More_Infrastructure }
		}
		
		available = { has_completed_focus = KMT_70s_More_Infrastructure_2_Expand_Harbours }
		
		activation = { always = yes }
		
		cost = 50
		days_remove = 90
		
		fire_only_once = yes
		
		remove_effect = {
			
			1571 = {
				add_building_construction = {
					type = naval_base
					level = 4
					province = 10000
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}	

			613 = {
				add_building_construction = {
					type = naval_base
					level = 4
					province = 7014
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}	

			1547 = {
				add_building_construction = {
					type = naval_base
					level = 4
					province = 12068
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}	
			
		}
	}
	
	Build_steel_mills = {
		icon = generic_industry
		
		allowed = { tag = CHI }
		
		visible = {
			CHI = { has_completed_focus = KMT_70s_More_Infrastructure }
		}
		
		available = { has_completed_focus = KMT_70s_More_Infrastructure_2_steel_mills }
		
		activation = { always = yes }
		
		cost = 50
		days_remove = 90
		
		fire_only_once = yes
		
		remove_effect = {
			
			605 = {
				add_building_construction = {
					type = steel_factory
					level = 1
					instant_build = yes
				}
			}
			620 = {
				add_building_construction = {
					type = steel_factory
					level = 1
					instant_build = yes
				}
			}
			594 = {
				add_building_construction = {
					type = steel_factory
					level = 1
					instant_build = yes
				}
			}
			1569 = {
				add_building_construction = {
					type = steel_factory
					level = 1
					instant_build = yes
				}
			}
			
		}
	}
	
	Build_petrochemical_plants = {
		icon = generic_industry
		
		allowed = { tag = CHI }
		
		visible = {
			CHI = { has_completed_focus = KMT_70s_More_Infrastructure }
		}
		
		available = { has_completed_focus = KMT_70s_Build_more_Petrochemical_plants }
		
		activation = { always = yes }
		
		cost = 50
		days_remove = 90
		
		fire_only_once = yes
		
		remove_effect = {
		
			605 = {
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			620 = {
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			594 = {
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			1569 = {
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			
			
		}
	}
	

}




