FORIEGN_INVESTMENT = {
	TEST = {
		icon = generic_independence
		cost = 100
		days_remove = 5
		days_re_enable = 0
		available = {
			tag = USA
		}
		visible = {
			tag = USA
		}
		complete_effect = {
		}
	}
	#development_level_zero_check
	#development_level_one_check
	#development_level_two_check
	#development_level_three_check
	#development_level_four_check
	#development_level_five_check
	Invest_in_State_Infrastructure = {
		icon = generic_independence
		cost = 0
		days_remove = 5
		days_re_enable = 0
		available = {
			OR = {
				AND = {
					var:current_investment_state_scope = { 
						development_level_zero_check = yes 
						check_variable = { building_state_infra_qualifier < 1 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_one_check = yes 
						check_variable = { building_state_infra_qualifier < 2 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_two_check = yes 
						check_variable = { building_state_infra_qualifier < 4 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_three_check = yes 
						check_variable = { building_state_infra_qualifier < 6 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_four_check = yes 
						check_variable = { building_state_infra_qualifier < 8 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_five_check = yes 
						check_variable = { building_state_infra_qualifier < 10 }
					}
				}
			}
			OR = {
				NOT = { has_country_flag = SI_Investment_1 }
				NOT = { has_country_flag = SI_Investment_2 }
				NOT = { has_country_flag = SI_Investment_3 }
				NOT = { has_country_flag = SI_Investment_4 }
				NOT = { has_country_flag = SI_Investment_5 }
				NOT = { has_country_flag = SI_Investment_6 }
				NOT = { has_country_flag = SI_Investment_7 }
				NOT = { has_country_flag = SI_Investment_8 }
				NOT = { has_country_flag = SI_Investment_9 }
				NOT = { has_country_flag = SI_Investment_10 }
			}
		}
		visible = {
			NOT = { check_variable = { current_investment_state_scope = 0 } }
		}
		complete_effect = {
			add_to_variable = { 
				civ_factory_usage = 5
			}
			set_variable = { 
				base_cost = 5
			}
			multiply_variable = {
				base_cost = Investment_State.development_level_increase
			}
			subtract_from_variable = {
				currentMoney = base_cost
			}
			if = {
				limit = {
					NOT = { has_country_flag = SI_Investment_1 }
				}
				set_variable = { SI_Investment_Slot_1_Location = current_investment_state_scope }
				activate_mission = SI_Investment_Slot_1
			}
			else_if = {
				limit = {
					NOT = { has_country_flag = SI_Investment_2 }
				}
				set_variable = { SI_Investment_Slot_2_Location = current_investment_state_scope }
				activate_mission = SI_Investment_Slot_2
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = SI_Investment_3 }
				}
				set_variable = { SI_Investment_Slot_3_Location = current_investment_state_scope }
				activate_mission = SI_Investment_Slot_3
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = SI_Investment_4 }
				}
				set_variable = { SI_Investment_Slot_4_Location = current_investment_state_scope }
				activate_mission = SI_Investment_Slot_4
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = SI_Investment_5 }
				}
				set_variable = { SI_Investment_Slot_5_Location = current_investment_state_scope }
				activate_mission = SI_Investment_Slot_5
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = SI_Investment_6 }
				}
				set_variable = { SI_Investment_Slot_6_Location = current_investment_state_scope }
				activate_mission = SI_Investment_Slot_6
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = SI_Investment_7 }
				}
				set_variable = { SI_Investment_Slot_7_Location = current_investment_state_scope }
				activate_mission = SI_Investment_Slot_7
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = SI_Investment_8 }
				}
				set_variable = { SI_Investment_Slot_8_Location = current_investment_state_scope }
				activate_mission = SI_Investment_Slot_8
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = SI_Investment_9 }
				}
				set_variable = { SI_Investment_Slot_9_Location = current_investment_state_scope }
				activate_mission = SI_Investment_Slot_9
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = SI_Investment_10 }
				}
				set_variable = { SI_Investment_Slot_10_Location = current_investment_state_scope }
				activate_mission = SI_Investment_Slot_10
			} 
		}
	}
	Invest_in_Water_Infrastructure = {
		icon = generic_independence
		cost = 0
		days_remove = 5
		days_re_enable = 0
		available = {
			OR = {
				AND = {
					var:current_investment_state_scope = { 
						development_level_zero_check = yes 
						check_variable = { building_water_infra_qualifier < 1 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_one_check = yes 
						check_variable = { building_water_infra_qualifier < 2 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_two_check = yes 
						check_variable = { building_water_infra_qualifier < 4 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_three_check = yes 
						check_variable = { building_water_infra_qualifier < 6 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_four_check = yes 
						check_variable = { building_water_infra_qualifier < 8 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_five_check = yes 
						check_variable = { building_water_infra_qualifier < 10 }
					}
				}
			}
			OR = {
				NOT = { has_country_flag = WI_Investment_1 }
				NOT = { has_country_flag = WI_Investment_2 }
				NOT = { has_country_flag = WI_Investment_3 }
				NOT = { has_country_flag = WI_Investment_4 }
				NOT = { has_country_flag = WI_Investment_5 }
				NOT = { has_country_flag = WI_Investment_6 }
				NOT = { has_country_flag = WI_Investment_7 }
				NOT = { has_country_flag = WI_Investment_8 }
				NOT = { has_country_flag = WI_Investment_9 }
				NOT = { has_country_flag = WI_Investment_10 }
			}
		}
		visible = {
			NOT = { check_variable = { current_investment_state_scope = 0 } }
		}
		complete_effect = {
			add_to_variable = { 
				civ_factory_usage = 5
			}
			set_variable = { 
				base_cost = 5
			}
			multiply_variable = {
				base_cost = Investment_State.development_level_increase
			}
			subtract_from_variable = {
				currentMoney = base_cost
			}
			if = {
				limit = {
					NOT = { has_country_flag = WI_Investment_1 }
				}
				set_variable = { WI_Investment_Slot_1_Location = current_investment_state_scope }
				activate_mission = WI_Investment_Slot_1
			}
			else_if = {
				limit = {
					NOT = { has_country_flag = WI_Investment_2 }
				}
				set_variable = { WI_Investment_Slot_2_Location = current_investment_state_scope }
				activate_mission = WI_Investment_Slot_2
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = WI_Investment_3 }
				}
				set_variable = { WI_Investment_Slot_3_Location = current_investment_state_scope }
				activate_mission = WI_Investment_Slot_3
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = WI_Investment_4 }
				}
				set_variable = { WI_Investment_Slot_4_Location = current_investment_state_scope }
				activate_mission = WI_Investment_Slot_4
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = WI_Investment_5 }
				}
				set_variable = { WI_Investment_Slot_5_Location = current_investment_state_scope }
				activate_mission = WI_Investment_Slot_5
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = WI_Investment_6 }
				}
				set_variable = { WI_Investment_Slot_6_Location = current_investment_state_scope }
				activate_mission = WI_Investment_Slot_6
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = WI_Investment_7 }
				}
				set_variable = { WI_Investment_Slot_7_Location = current_investment_state_scope }
				activate_mission = WI_Investment_Slot_7
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = WI_Investment_8 }
				}
				set_variable = { WI_Investment_Slot_8_Location = current_investment_state_scope }
				activate_mission = WI_Investment_Slot_8
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = WI_Investment_9 }
				}
				set_variable = { WI_Investment_Slot_9_Location = current_investment_state_scope }
				activate_mission = WI_Investment_Slot_9
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = WI_Investment_10 }
				}
				set_variable = { WI_Investment_Slot_10_Location = current_investment_state_scope }
				activate_mission = WI_Investment_Slot_10
			} 
		}
	}
	Invest_in_Infrastructure = {
		icon = generic_independence
		cost = 0
		days_remove = 5
		days_re_enable = 0
		available = {
			OR = {
				AND = {
					var:current_investment_state_scope = { 
						development_level_zero_check = yes 
						check_variable = { building_infra_qualifier < 1 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_one_check = yes 
						check_variable = { building_infra_qualifier < 2 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_two_check = yes 
						check_variable = { building_infra_qualifier < 4 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_three_check = yes 
						check_variable = { building_infra_qualifier < 6 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_four_check = yes 
						check_variable = { building_infra_qualifier < 8 }
					}
				}
				AND = {
					var:current_investment_state_scope = { 
						development_level_five_check = yes 
						check_variable = { building_infra_qualifier < 10 }
					}
				}
			}
			OR = {
				NOT = { has_country_flag = INFRA_Investment_1 }
				NOT = { has_country_flag = INFRA_Investment_2 }
				NOT = { has_country_flag = INFRA_Investment_3 }
				NOT = { has_country_flag = INFRA_Investment_4 }
				NOT = { has_country_flag = INFRA_Investment_5 }
				NOT = { has_country_flag = INFRA_Investment_6 }
				NOT = { has_country_flag = INFRA_Investment_7 }
				NOT = { has_country_flag = INFRA_Investment_8 }
				NOT = { has_country_flag = INFRA_Investment_9 }
				NOT = { has_country_flag = INFRA_Investment_10 }
			}
		}
		visible = {
			NOT = { check_variable = { current_investment_state_scope = 0 } }
		}
		complete_effect = {
			add_to_variable = { 
				civ_factory_usage = 5
			}
			set_variable = { 
				base_cost = 5
			}
			multiply_variable = {
				base_cost = Investment_State.development_level_increase
			}
			subtract_from_variable = {
				currentMoney = base_cost
			}
			if = {
				limit = {
					NOT = { has_country_flag = INFRA_Investment_1 }
				}
				set_variable = { INFRA_Investment_Slot_1_Location = current_investment_state_scope }
				activate_mission = INFRA_Investment_Slot_1
			}
			else_if = {
				limit = {
					NOT = { has_country_flag = INFRA_Investment_2 }
				}
				set_variable = { INFRA_Investment_Slot_2_Location = current_investment_state_scope }
				activate_mission = INFRA_Investment_Slot_2
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = INFRA_Investment_3 }
				}
				set_variable = { INFRA_Investment_Slot_3_Location = current_investment_state_scope }
				activate_mission = INFRA_Investment_Slot_3
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = INFRA_Investment_4 }
				}
				set_variable = { INFRA_Investment_Slot_4_Location = current_investment_state_scope }
				activate_mission = INFRA_Investment_Slot_4
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = INFRA_Investment_5 }
				}
				set_variable = { INFRA_Investment_Slot_5_Location = current_investment_state_scope }
				activate_mission = INFRA_Investment_Slot_5
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = INFRA_Investment_6 }
				}
				set_variable = { INFRA_Investment_Slot_6_Location = current_investment_state_scope }
				activate_mission = INFRA_Investment_Slot_6
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = INFRA_Investment_7 }
				}
				set_variable = { INFRA_Investment_Slot_7_Location = current_investment_state_scope }
				activate_mission = INFRA_Investment_Slot_7
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = INFRA_Investment_8 }
				}
				set_variable = { INFRA_Investment_Slot_8_Location = current_investment_state_scope }
				activate_mission = INFRA_Investment_Slot_8
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = INFRA_Investment_9 }
				}
				set_variable = { INFRA_Investment_Slot_9_Location = current_investment_state_scope }
				activate_mission = INFRA_Investment_Slot_9
			} 
			else_if = {
				limit = {
					NOT = { has_country_flag = INFRA_Investment_10 }
				}
				set_variable = { INFRA_Investment_Slot_10_Location = current_investment_state_scope }
				activate_mission = INFRA_Investment_Slot_10
			} 
		}
	}

}
influence_desicions = {
	increase_domestic_influence = {
		icon = generic_independence
		cost = 100
		days_remove = 5
		days_re_enable = 0
		available = {
			has_variable = influence_array^0
			any_of = {
				array = influence_array_val
				check_variable = { influence_array_val^i > 0 }
			}		
		}
		visible = {
			always = yes
		}
		complete_effect = {
			set_temp_variable = { percent_change = 10 }
			change_domestic_influence_percentage = yes
		}
	}

	join_the_naval_treaty = {

		icon = MTG_naval_treaty_adherent 

		available = {
			has_navy_size = {
				size > 25 
			}

			has_global_flag = pacific_treaty

			NOT = {
				has_idea = pacific_naval_treaty_adherent 
			}
		}
		visible = {
			has_navy_size = {
				size > 25 
			}
			has_global_flag = pacific_treaty
			NOT = {
				has_idea = pacific_naval_treaty_adherent 
			}
		}

		cost = 100 

		complete_effect = {
			country_event = SOV_Beria_Struggle.104
		}


	}
	leave_the_naval_treaty = {

		icon = MTG_naval_treaty_adherent

		visible = {
			has_country_flag = pacific_naval_treaty_adherent
		}
		available = {
			has_country_flag = pacific_naval_treaty_adherent
		}

		cost = 100 

		complete_effect = {
			remove_ideas = pacific_naval_treaty_adherent 

			clr_country_flag = pacific_naval_treaty_adherent

			add_threat = 1

			country_event = SOV_Beria_Struggle.107
		}
	}

	target_influencer_0 = {
		icon = generic_independence
		cost = 200
		days_remove = 5
		days_re_enable = 0
		visible = {
			has_variable = influence_array^0
			check_variable = { influence_array_val^0 > 0 }
		}
		
		complete_effect = {
			set_variable = { subtractInf = 50 }
			multiply_variable = { subtractInf = encryptTotal }
			subtract_from_variable = { influence_array_val^0 = subtractInf }
			clamp_variable = {
				var = influence_array_val^0
				min = 0
				max = influence_total
			}
			recalculate_influence = yes
		}
	}

	target_influencer_1 = {
		icon = generic_independence
		cost = 200
		days_remove = 5
		days_re_enable = 0
		visible = {
			has_variable = influence_array^1
			check_variable = { influence_array_val^1 > 0 }
		}
		complete_effect = {
			set_variable = { subtractInf = 50 }
			multiply_variable = { subtractInf = encryptTotal }
			subtract_from_variable = { influence_array_val^1 = subtractInf }
			clamp_variable = {
				var = influence_array_val^1
				min = 0
				max = influence_total
			}
			recalculate_influence = yes
		}
	}

	target_influencer_2 = {
		icon = generic_independence
		cost = 200
		days_remove = 5
		days_re_enable = 0
		visible = {
			has_variable = influence_array^2
			check_variable = { influence_array_val^2 > 0 }
		}
		complete_effect = {
			set_variable = { subtractInf = 50 }
			multiply_variable = { subtractInf = encryptTotal }
			subtract_from_variable = { influence_array_val^2 = subtractInf }
			clamp_variable = {
				var = influence_array_val^2
				min = 0
				max = influence_total
			}
			recalculate_influence = yes
		}
	}
	target_influencer_3 = {
		icon = generic_independence
		cost = 200
		days_remove = 5
		days_re_enable = 0
		visible = {
			has_variable = influence_array^3
			check_variable = { influence_array_val^3 > 0 }
		}
		complete_effect = {
			set_variable = { subtractInf = 50 }
			multiply_variable = { subtractInf = encryptTotal }
			subtract_from_variable = { influence_array_val^3 = subtractInf }
			clamp_variable = {
				var = influence_array_val^2
				min = 0
				max = influence_total
			}
			recalculate_influence = yes
		}
	}

	target_influencer_4 = {
		icon = generic_independence
		cost = 200
		days_remove = 5
		days_re_enable = 0
		visible = {
			has_variable = influence_array^4
			check_variable = { influence_array_val^4 > 0 }
		}
		complete_effect = {
			set_variable = { subtractInf = 50 }
			multiply_variable = { subtractInf = encryptTotal }
			subtract_from_variable = { influence_array_val^4 = subtractInf }
			clamp_variable = {
				var = influence_array_val^4
				min = 0
				max = influence_total
			}
			recalculate_influence = yes
		}
	}

	target_influencer_5 = {
		icon = generic_independence
		cost = 200
		days_remove = 5
		days_re_enable = 0
		visible = {
			has_variable = influence_array^5
			check_variable = { influence_array_val^5 > 0 }
		}
		complete_effect = {
			set_variable = { subtractInf = 50 }
			multiply_variable = { subtractInf = encryptTotal }
			subtract_from_variable = { influence_array_val^5 = subtractInf }
			clamp_variable = {
				var = influence_array_val^5
				min = 0
				max = influence_total
			}
			recalculate_influence = yes
		}
	}

	target_influencer_6 = {
		icon = generic_independence
		cost = 200
		days_remove = 5
		days_re_enable = 0
		visible = {
			has_variable = influence_array^6
			check_variable = { influence_array_val^6 > 0 }
		}
		complete_effect = {
			set_variable = { subtractInf = 50 }
			multiply_variable = { subtractInf = encryptTotal }
			subtract_from_variable = { influence_array_val^6 = subtractInf }
			clamp_variable = {
				var = influence_array_val^6
				min = 0
				max = influence_total
			}
			recalculate_influence = yes
		}
	}
}
