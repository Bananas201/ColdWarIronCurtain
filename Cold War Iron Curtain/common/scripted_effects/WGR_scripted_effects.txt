normalize_spd_faction_support = {
    set_variable = { 
        total_spd_faction = 0 
    }
    add_to_variable = { 
        total_spd_faction = Franke_Influence
    }
    add_to_variable = { 
        total_spd_faction = Ollenhauer_Influence 
    }
    divide_variable = { 
        Ollenhauer_Influence = total_spd_faction 
    }
    divide_variable = {
        Franke_Influence = total_spd_faction 
    }
    round_variable = Ollenhauer_Influence
    round_variable = Franke_Influence
}

WGR_Decrease_Party_Cooperation = {
    if = {
        limit = {
            has_idea = WGR_Party_Cooperation_1
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_1
            add_idea = WGR_Party_Cooperation_2
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_2
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_2
            add_idea = WGR_Party_Cooperation_3
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_3
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_3
            add_idea = WGR_Party_Cooperation_4
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_4
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_4
            add_idea = WGR_Party_Cooperation_5
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_5
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_5
            add_idea = WGR_Party_Cooperation_6
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_6
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_6
            add_idea = WGR_Party_Cooperation_7
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_7
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_7
            add_idea = WGR_Party_Cooperation_8
        }
    }
    else = {
        add_idea = WGR_Party_Cooperation_1
    }
}

WGR_Increase_Party_Cooperation = {
    if = {
        limit = {
            has_idea = WGR_Party_Cooperation_8
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_8
            add_idea = WGR_Party_Cooperation_7
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_7
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_7
            add_idea = WGR_Party_Cooperation_6
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_6
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_6
            add_idea = WGR_Party_Cooperation_5
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_5
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_5
            add_idea = WGR_Party_Cooperation_4
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_4
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_4
            add_idea = WGR_Party_Cooperation_3
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_3
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_3
            add_idea = WGR_Party_Cooperation_2
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Party_Cooperation_2
        }
        swap_ideas = {
            remove_idea = WGR_Party_Cooperation_2
            add_idea = WGR_Party_Cooperation_1
        }
    }
}

WGR_Increase_Wirtschaftswunder = {
    if = {
        limit = {
            has_idea = WGR_Wirtschaftswunder_1
        }
        swap_ideas = {
            remove_idea = WGR_Wirtschaftswunder_1
            add_idea = WGR_Wirtschaftswunder_2
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Wirtschaftswunder_2
        }
        swap_ideas = {
            remove_idea = WGR_Wirtschaftswunder_2
            add_idea = WGR_Wirtschaftswunder_3
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Wirtschaftswunder_3
        }
        swap_ideas = {
            remove_idea = WGR_Wirtschaftswunder_3
            add_idea = WGR_Wirtschaftswunder_4
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Wirtschaftswunder_4
        }
        swap_ideas = {
            remove_idea = WGR_Wirtschaftswunder_4
            add_idea = WGR_Wirtschaftswunder_5
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Wirtschaftswunder_5
        }
        swap_ideas = {
            remove_idea = WGR_Wirtschaftswunder_5
            add_idea = WGR_Wirtschaftswunder_6
        }
    }
    else = {
        add_idea = WGR_Wirtschaftswunder_1
    }
}

WGR_Decrease_Wirtschaftswunder = {
    if = {
        limit = {
            has_idea = WGR_Wirtschaftswunder_6
        }
        swap_ideas = {
            remove_idea = WGR_Wirtschaftswunder_6
            add_idea = WGR_Wirtschaftswunder_5
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Wirtschaftswunder_5
        }
        swap_ideas = {
            remove_idea = WGR_Wirtschaftswunder_5
            add_idea = WGR_Wirtschaftswunder_4
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Wirtschaftswunder_4
        }
        swap_ideas = {
            remove_idea = WGR_Wirtschaftswunder_4
            add_idea = WGR_Wirtschaftswunder_3
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Wirtschaftswunder_3
        }
        swap_ideas = {
            remove_idea = WGR_Wirtschaftswunder_3
            add_idea = WGR_Wirtschaftswunder_2
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Wirtschaftswunder_2
        }
        swap_ideas = {
            remove_idea = WGR_Wirtschaftswunder_2
            add_idea = WGR_Wirtschaftswunder_1
        }
    }
}

WGR_Increase_Nuclear_Opinion = {
    if = {
        limit = {
            has_idea = WGR_Nuclear_Stance_5
        }
        add_ideas = WGR_Nuclear_Stance_4
        remove_ideas = WGR_Nuclear_Stance_5
    }
    else_if = {
        limit = {
            has_idea = WGR_Nuclear_Stance_4
        }
        add_ideas = WGR_Nuclear_Stance_3
        remove_ideas = WGR_Nuclear_Stance_4
    }
    else_if = {
        limit = {
            has_idea = WGR_Nuclear_Stance_3
        }
        add_ideas = WGR_Nuclear_Stance_2
        remove_ideas = WGR_Nuclear_Stance_3
    }
    else_if = {
        limit = {
            has_idea = WGR_Nuclear_Stance_2
        }
        add_ideas = WGR_Nuclear_Stance_1
        remove_ideas = WGR_Nuclear_Stance_2
    }
    else = {
        limit = {
            has_idea = WGR_Nuclear_Stance_1
        }
        add_political_power = -50
    }
}

WGR_Decrease_Nuclear_Opinion = {
    if = {
        limit = {
            has_idea = WGR_Nuclear_Stance_1
        }
        add_ideas = WGR_Nuclear_Stance_2
        remove_ideas = WGR_Nuclear_Stance_1
    }
    else_if = {
        limit = {
            has_idea = WGR_Nuclear_Stance_2
        }
        add_ideas = WGR_Nuclear_Stance_3
        remove_ideas = WGR_Nuclear_Stance_2
    }
    else_if = {
        limit = {
            has_idea = WGR_Nuclear_Stance_3
        }
        add_ideas = WGR_Nuclear_Stance_4
        remove_ideas = WGR_Nuclear_Stance_3
    }
    else_if = {
        limit = {
            has_idea = WGR_Nuclear_Stance_4
        }
        add_ideas = WGR_Nuclear_Stance_5
        remove_ideas = WGR_Nuclear_Stance_4
    }
    else = {
        limit = {
            has_idea = WGR_Nuclear_Stance_5
        }
        add_political_power = 50
    }
}

WGR_Increase_Ex_Nazi_Influence = {
    if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_1
        }
        add_ideas = WGR_Ex_Nazi_Influence_2
        remove_idea = WGR_Ex_Nazi_Influence_1
    }
    else_if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_2
        }
        add_ideas = WGR_Ex_Nazi_Influence_3
        remove_idea = WGR_Ex_Nazi_Influence_2
    }
    else_if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_3
        }
        add_ideas = WGR_Ex_Nazi_Influence_4
        remove_idea = WGR_Ex_Nazi_Influence_3
    }
    else_if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_4
        }
        add_ideas = WGR_Ex_Nazi_Influence_5
        remove_idea = WGR_Ex_Nazi_Influence_4
    }
    else_if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_5
        }
        add_ideas = WGR_Ex_Nazi_Influence_6
        remove_idea = WGR_Ex_Nazi_Influence_5
    }
    else_if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_6
        }
        add_ideas = WGR_Ex_Nazi_Influence_7
        remove_idea = WGR_Ex_Nazi_Influence_6
    }
    else = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_7
        }
        add_political_power = -100
    }
}

WGR_Decrease_Ex_Nazi_Influence = {
    if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_7
        }
        add_ideas = WGR_Ex_Nazi_Influence_6
        remove_idea = WGR_Ex_Nazi_Influence_7
    }
    else_if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_6
        }
        add_ideas = WGR_Ex_Nazi_Influence_5
        remove_idea = WGR_Ex_Nazi_Influence_6
    }
    else_if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_5
        }
        add_ideas = WGR_Ex_Nazi_Influence_4
        remove_idea = WGR_Ex_Nazi_Influence_5
    }
    else_if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_4
        }
        add_ideas = WGR_Ex_Nazi_Influence_3
        remove_idea = WGR_Ex_Nazi_Influence_4
    }
    else_if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_3
        }
        add_ideas = WGR_Ex_Nazi_Influence_2
        remove_idea = WGR_Ex_Nazi_Influence_3
    }
    else_if = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_2
        }
        add_ideas = WGR_Ex_Nazi_Influence_1
        remove_idea = WGR_Ex_Nazi_Influence_2
    }
    else = {
        limit = {
            has_idea = WGR_Ex_Nazi_Influence_1
        }
        add_political_power = 100
    }
}

WGR_Increase_Communist_Influence = {
    if = {
        limit = {
            has_idea = WGR_Communist_Influence_1
        }
        add_ideas = WGR_Communist_Influence_2
        remove_idea = WGR_Communist_Influence_1
    }
    else_if = {
        limit = {
            has_idea = WGR_Communist_Influence_2
        }
        add_ideas = WGR_Communist_Influence_3
        remove_idea = WGR_Communist_Influence_2
    }
    else_if = {
        limit = {
            has_idea = WGR_Communist_Influence_3
        }
        add_ideas = WGR_Communist_Influence_4
        remove_idea = WGR_Communist_Influence_3
    }
    else_if = {
        limit = {
            has_idea = WGR_Communist_Influence_4
        }
        add_ideas = WGR_Communist_Influence_5
        remove_idea = WGR_Communist_Influence_4
    }
    else_if = {
        limit = {
            has_idea = WGR_Communist_Influence_5
        }
        add_ideas = WGR_Communist_Influence_6
        remove_idea = WGR_Communist_Influence_5
    }
    else_if = {
        limit = {
            has_idea = WGR_Communist_Influence_6
        }
        add_ideas = WGR_Communist_Influence_7
        remove_idea = WGR_Communist_Influence_6
    }
    else = {
        limit = {
            has_idea = WGR_Communist_Influence_7
        }
        add_political_power = -100
    }
}

WGR_Decrease_Communist_Influence = {
    if = {
        limit = {
            has_idea = WGR_Communist_Influence_7
        }
        add_ideas = WGR_Communist_Influence_6
        remove_idea = WGR_Communist_Influence_7
    }
    else_if = {
        limit = {
            has_idea = WGR_Communist_Influence_6
        }
        add_ideas = WGR_Communist_Influence_5
        remove_idea = WGR_Communist_Influence_6
    }
    else_if = {
        limit = {
            has_idea = WGR_Communist_Influence_5
        }
        add_ideas = WGR_Communist_Influence_4
        remove_idea = WGR_Communist_Influence_5
    }
    else_if = {
        limit = {
            has_idea = WGR_Communist_Influence_4
        }
        add_ideas = WGR_Communist_Influence_3
        remove_idea = WGR_Communist_Influence_4
    }
    else_if = {
        limit = {
            has_idea = WGR_Communist_Influence_3
        }
        add_ideas = WGR_Communist_Influence_2
        remove_idea = WGR_Communist_Influence_3
    }
    else_if = {
        limit = {
            has_idea = WGR_Communist_Influence_2
        }
        add_ideas = WGR_Communist_Influence_1
        remove_idea = WGR_Communist_Influence_2
    }
    else = {
        limit = {
            has_idea = WGR_Communist_Influence_1
        }
        add_political_power = 100
    }
}

WGR_Decrease_Kanalarbeiter_Cooperation = {
    if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_1
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_1
            add_idea = WGR_Kanalarbeiter_Cooperation_2
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_2
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_2
            add_idea = WGR_Kanalarbeiter_Cooperation_3
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_3
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_3
            add_idea = WGR_Kanalarbeiter_Cooperation_4
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_4
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_4
            add_idea = WGR_Kanalarbeiter_Cooperation_5
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_5
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_5
            add_idea = WGR_Kanalarbeiter_Cooperation_6
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_6
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_6
            add_idea = WGR_Kanalarbeiter_Cooperation_7
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_7
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_7
            add_idea = WGR_Kanalarbeiter_Cooperation_8
        }
    }
    else = {
        add_idea = WGR_Kanalarbeiter_Cooperation_1
    }
}

WGR_Increase_Kanalarbeiter_Cooperation = {
    if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_8
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_8
            add_idea = WGR_Kanalarbeiter_Cooperation_7
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_7
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_7
            add_idea = WGR_Kanalarbeiter_Cooperation_6
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_6
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_6
            add_idea = WGR_Kanalarbeiter_Cooperation_5
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_5
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_5
            add_idea = WGR_Kanalarbeiter_Cooperation_4
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_4
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_4
            add_idea = WGR_Kanalarbeiter_Cooperation_3
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_3
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_3
            add_idea = WGR_Kanalarbeiter_Cooperation_2
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_Kanalarbeiter_Cooperation_2
        }
        swap_ideas = {
            remove_idea = WGR_Kanalarbeiter_Cooperation_2
            add_idea = WGR_Kanalarbeiter_Cooperation_1
        }
    }
}

WGR_Increase_BGS_Performance = {
    if = {
        limit = {
            has_idea = WGR_BGS_Performance_1
        }
        swap_ideas = {
            remove_idea = WGR_BGS_Performance_1
            add_idea = WGR_BGS_Performance_2
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_BGS_Performance_2
        }
        swap_ideas = {
            remove_idea = WGR_BGS_Performance_2
            add_idea = WGR_BGS_Performance_3
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_BGS_Performance_3
        }
        swap_ideas = {
            remove_idea = WGR_BGS_Performance_3
            add_idea = WGR_BGS_Performance_4
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_BGS_Performance_4
        }
        swap_ideas = {
            remove_idea = WGR_BGS_Performance_4
            add_idea = WGR_BGS_Performance_5
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_BGS_Performance_5
        }
        add_command_power = 25
        army_experience = 25
    }
}

WGR_Decrease_BGS_Performance = {
    if = {
        limit = {
            has_idea = WGR_BGS_Performance_5
        }
        swap_ideas = {
            remove_idea = WGR_BGS_Performance_5
            add_idea = WGR_BGS_Performance_4
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_BGS_Performance_4
        }
        swap_ideas = {
            remove_idea = WGR_BGS_Performance_4
            add_idea = WGR_BGS_Performance_3
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_BGS_Performance_3
        }
        swap_ideas = {
            remove_idea = WGR_BGS_Performance_2
            add_idea = WGR_BGS_Performance_2
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_BGS_Performance_2
        }
        swap_ideas = {
            remove_idea = WGR_BGS_Performance_2
            add_idea = WGR_BGS_Performance_1
        }
    }
    else_if = {
        limit = {
            has_idea = WGR_BGS_Performance_1
        }
        add_command_power = -25
        army_experience = -25
    }
}