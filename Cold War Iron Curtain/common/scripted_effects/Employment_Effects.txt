
set_employment_in_state = {
    set_variable = {
        state_workforce_total = local_pop_k_test
    }
    set_variable = {
        local_rgo_employment = 0
    }
    set_variable = { nuclear_reactor_employment = 0 }
    set_variable = { nuclear_power_employment = 0 }
    set_variable = { local_industrial_employment = 0 }
    set_variable = { local_oil_refinery_employment = 0 }
    set_variable = { local_refinery_employment = 0 }
    set_variable = { local_farm_employment = 0 }
    set_variable = { local_office_employment = 0 }
    set_variable = { local_dockyard_employment = 0 }
    set_variable = { local_arms_employment = 0 }
    add_to_variable = {
        local_rgo_employment = resource@steel
    }
    add_to_variable = {
        local_rgo_employment = resource@chromium
    }
    add_to_variable = {
        local_rgo_employment = resource@aluminium
    }
    add_to_variable = {
        local_rgo_employment = resource@oil
    }
    add_to_variable = {
        local_rgo_employment = resource@tungsten
    }
        
    add_to_variable = {
        nuclear_reactor_employment = building_level@nuclear_reactor
    }
    add_to_variable = {
        nuclear_power_employment = building_level@nuclear_powerplant
    }       

    add_to_variable = {
        local_power_employment = building_level@fossil_fuel_powerplant
    }
    add_to_variable = {
        local_industrial_employment = building_level@industrial_complex
    }
    add_to_variable = {
        local_oil_refinery_employment = building_level@synthetic_refinery
    }
    add_to_variable = {
        local_refinery_employment = building_level@tungsten_factory
    }
    add_to_variable = {
        local_refinery_employment = building_level@steel_factory
    }
    add_to_variable = {
        local_farm_employment = building_level@agri_industrial_complex
    }
    add_to_variable = {
        local_office_employment = building_level@office_park
    }
    add_to_variable = {
        local_dockyard_employment = building_level@dockyard
    }
    add_to_variable = {
        local_arms_employment = building_level@arms_factory
    }
    if = {
        limit = {
            development_level_two_check = yes
        }
        #RGO
        set_variable = {
            laborer_rgo_employment = local_rgo_employment
        }
        #Farm
        set_variable = { laborer_farm_employment = local_farm_employment }
        set_variable = { worker_farm_employment = local_farm_employment }
        set_variable = { bureacrat_farm_employment = local_farm_employment }
        set_variable = { professional_farm_employment = local_farm_employment }
        set_variable = { elite_farm_employment = local_farm_employment }

        multiply_variable = { laborer_farm_employment = 100 }    
        multiply_variable = { worker_farm_employment = 20 }    
        multiply_variable = { bureacrat_farm_employment = 10 }    
        multiply_variable = { professional_farm_employment = 5 }    
        multiply_variable = { elite_farm_employment = 15 }   

        #Arms Factory   25	50	10	5	10
        set_variable = { laborer_arms_employment = local_arms_employment }
        set_variable = { worker_arms_employment = local_arms_employment }
        set_variable = { bureacrat_arms_employment = local_arms_employment }
        set_variable = { professional_arms_employment = local_arms_employment }
        set_variable = { elite_arms_employment = local_arms_employment }

        multiply_variable = { laborer_arms_employment = 25 }    
        multiply_variable = { worker_arms_employment = 50 }    
        multiply_variable = { bureacrat_arms_employment = 10 }    
        multiply_variable = { professional_arms_employment = 5 }    
        multiply_variable = { elite_arms_employment = 10 }    

        #Industrial Complex 25	50	10	5	10
        set_variable = { laborer_industrial_employment = local_industrial_employment }
        set_variable = { worker_industrial_employment = local_industrial_employment }
        set_variable = { bureacrat_industrial_employment = local_industrial_employment }
        set_variable = { professional_industrial_employment = local_industrial_employment }
        set_variable = { elite_industrial_employment = local_industrial_employment }

        multiply_variable = { laborer_industrial_employment = 25 }    
        multiply_variable = { worker_industrial_employment = 50 }    
        multiply_variable = { bureacrat_industrial_employment = 10 }    
        multiply_variable = { professional_industrial_employment = 5 }    
        multiply_variable = { elite_industrial_employment = 10 }   

        #Dockyard   25	50	10	5	10
        set_variable = { laborer_dockyard_employment = local_dockyard_employment }
        set_variable = { worker_dockyard_employment = local_dockyard_employment }
        set_variable = { bureacrat_dockyard_employment = local_dockyard_employment }
        set_variable = { professional_dockyard_employment = local_dockyard_employment }
        set_variable = { elite_dockyard_employment = local_dockyard_employment }

        multiply_variable = { laborer_dockyard_employment = 25 }    
        multiply_variable = { worker_dockyard_employment = 50 }    
        multiply_variable = { bureacrat_dockyard_employment = 10 }    
        multiply_variable = { professional_dockyard_employment = 5 }    
        multiply_variable = { elite_dockyard_employment = 10 } 

        #Oil Refinery   25	50	10	5	10
        set_variable = { laborer_oil_refinery_employment = local_oil_refinery_employment }
        set_variable = { worker_oil_refinery_employment = local_oil_refinery_employment }
        set_variable = { bureacrat_oil_refinery_employment = local_oil_refinery_employment }
        set_variable = { professional_oil_refinery_employment = local_oil_refinery_employment }
        set_variable = { elite_oil_refinery_employment = local_oil_refinery_employment }

        multiply_variable = { laborer_dockyard_employment = 25 }    
        multiply_variable = { worker_dockyard_employment = 50 }    
        multiply_variable = { bureacrat_dockyard_employment = 10 }    
        multiply_variable = { professional_dockyard_employment = 5 }    
        multiply_variable = { elite_dockyard_employment = 10 } 

        #Office Park    0	5	20	5	5
        set_variable = { worker_local_office_employment = local_office_employment }
        set_variable = { bureacrat_local_office_employment = local_office_employment }
        set_variable = { professional_local_office_employment = local_office_employment }
        set_variable = { elite_local_office_employment = local_office_employment }

        multiply_variable = { worker_local_office_employment = 5 }    
        multiply_variable = { bureacrat_local_office_employment = 20 }    
        multiply_variable = { professional_local_office_employment = 5 }    
        multiply_variable = { elite_local_office_employment = 5 } 

        #Nuclear Reactor    0	5	15	5	0
        
        set_variable = { worker_nuclear_reactor_employment = nuclear_reactor_employment }
        set_variable = { bureacrat_nuclear_reactor_employment = nuclear_reactor_employment }
        set_variable = { professional_nuclear_reactor_employment = nuclear_reactor_employment }

        multiply_variable = { worker_nuclear_reactor_employment = 5 }    
        multiply_variable = { bureacrat_nuclear_reactor_employment = 15 }    
        multiply_variable = { professional_nuclear_reactor_employment = 0 }    

        #Nuclear Power Plants   0	5	10	4	1
        
        set_variable = { worker_nuclear_power_employment = nuclear_power_employment }
        set_variable = { bureacrat_nuclear_power_employment = nuclear_power_employment }
        set_variable = { professional_nuclear_power_employment = nuclear_power_employment }
        set_variable = { elite_nuclear_power_employment = nuclear_power_employment } 

        multiply_variable = { worker_nuclear_reactor_employment = 5 }    
        multiply_variable = { bureacrat_nuclear_reactor_employment = 10 }    
        multiply_variable = { professional_nuclear_reactor_employment = 4 }
        multiply_variable = { elite_nuclear_power_employment = 1 }     
        
        #Power Plants 
        set_variable = { laborer_power_employment = local_power_employment }
        set_variable = { worker_power_employment = local_power_employment }
        set_variable = { bureacrat_power_employment = local_power_employment }
        set_variable = { professional_power_employment = local_power_employment }
        set_variable = { elite_power_employment = local_power_employment }

        multiply_variable = { laborer_power_employment = 6 }    
        multiply_variable = { worker_power_employment = 10 }    
        multiply_variable = { bureacrat_power_employment = 0 }    
        multiply_variable = { professional_power_employment = 3 }    
        multiply_variable = { elite_power_employment = 1 } 

        #Refinery   20	70	0	0	10
        
        set_variable = { laborer_refinery_employment = local_refinery_employment }
        set_variable = { worker_refinery_employment = local_refinery_employment }
        set_variable = { bureacrat_refinery_employment = local_refinery_employment }
        set_variable = { professional_refinery_employment = local_refinery_employment }
        set_variable = { elite_refinery_employment = local_refinery_employment }

        multiply_variable = { laborer_refinery_employment = 20 }    
        multiply_variable = { worker_refinery_employment = 70 }    
        multiply_variable = { bureacrat_refinery_employment = 0 }    
        multiply_variable = { professional_refinery_employment = 0 }    
        multiply_variable = { elite_refinery_employment = 10 } 

        #Soldiers

        set_variable = { laborer_state_total = 0 }
        add_to_variable = { laborer_state_total = laborer_rgo_employment }
        add_to_variable = { laborer_state_total = laborer_farm_employment }
        add_to_variable = { laborer_state_total = laborer_arms_employment }
        add_to_variable = { laborer_state_total = laborer_industrial_employment }
        add_to_variable = { laborer_state_total = laborer_dockyard_employment }
        add_to_variable = { laborer_state_total = laborer_oil_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_power_employment = local_power_employment }
        add_to_variable = { laborer_state_total = laborer_refinery_employment = local_refinery_employment }

        set_variable = { worker_state_total = 0 }
        add_to_variable = { worker_state_total = worker_farm_employment }
        add_to_variable = { worker_state_total = worker_arms_employment }
        add_to_variable = { worker_state_total = worker_industrial_employment }
        add_to_variable = { worker_state_total = worker_dockyard_employment }
        add_to_variable = { worker_state_total = worker_oil_refinery_employment }
        add_to_variable = { worker_state_total = worker_local_office_employment }
        add_to_variable = { worker_state_total = worker_nuclear_reactor_employment }
        add_to_variable = { worker_state_total = worker_nuclear_power_employment = nuclear_power_employment }
        add_to_variable = { worker_state_total = worker_power_employment = local_power_employment }
        add_to_variable = { worker_state_total = worker_refinery_employment = local_refinery_employment }

        set_variable = { bureacrat_state_total = 0 }
        add_to_variable = { bureacrat_state_total = bureacrat_farm_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_arms_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_industrial_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_dockyard_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_oil_refinery_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_local_office_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_reactor_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_power_employment = nuclear_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_power_employment = local_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_refinery_employment = local_refinery_employment }

        set_variable = { professional_state_total = 0 }
        add_to_variable = { professional_state_total = professional_farm_employment }
        add_to_variable = { professional_state_total = professional_arms_employment }
        add_to_variable = { professional_state_total = professional_industrial_employment }        
        add_to_variable = { professional_state_total = professional_dockyard_employment }
        add_to_variable = { professional_state_total = professional_oil_refinery_employment }
        add_to_variable = { professional_state_total = professional_local_office_employment }
        add_to_variable = { professional_state_total = professional_nuclear_reactor_employment }
        add_to_variable = { professional_state_total = professional_nuclear_power_employment }
        add_to_variable = { professional_state_total = professional_power_employment }
        add_to_variable = { professional_state_total = professional_refinery_employment }

        set_variable = { elite_state_total = 0 }
        add_to_variable = { elite_state_total = elite_farm_employment }
        add_to_variable = { elite_state_total = elite_arms_employment }
        add_to_variable = { elite_state_total = elite_industrial_employment }
        add_to_variable = { elite_state_total = elite_dockyard_employment }
        add_to_variable = { elite_state_total = elite_oil_refinery_employment }
        add_to_variable = { elite_state_total = elite_local_office_employment }
        add_to_variable = { elite_state_total = elite_nuclear_power_employment } 
        add_to_variable = { elite_state_total = elite_power_employment }
        add_to_variable = { elite_state_total = elite_refinery_employment }

        set_variable = { laborer_state_total = 0 }
        add_to_variable = { laborer_state_total = laborer_rgo_employment }
        add_to_variable = { laborer_state_total = laborer_farm_employment }
        add_to_variable = { laborer_state_total = laborer_arms_employment }
        add_to_variable = { laborer_state_total = laborer_industrial_employment }
        add_to_variable = { laborer_state_total = laborer_dockyard_employment }
        add_to_variable = { laborer_state_total = laborer_oil_refinery_employment }
        add_to_variable = { laborer_state_total = laborer_power_employment = local_power_employment }
        add_to_variable = { laborer_state_total = laborer_refinery_employment = local_refinery_employment }

        set_variable = { worker_state_total = 0 }
        add_to_variable = { worker_state_total = worker_farm_employment }
        add_to_variable = { worker_state_total = worker_arms_employment }
        add_to_variable = { worker_state_total = worker_industrial_employment }
        add_to_variable = { worker_state_total = worker_dockyard_employment }
        add_to_variable = { worker_state_total = worker_oil_refinery_employment }
        add_to_variable = { worker_state_total = worker_local_office_employment }
        add_to_variable = { worker_state_total = worker_nuclear_reactor_employment }
        add_to_variable = { worker_state_total = worker_nuclear_power_employment = nuclear_power_employment }
        add_to_variable = { worker_state_total = worker_power_employment = local_power_employment }
        add_to_variable = { worker_state_total = worker_refinery_employment = local_refinery_employment }

        set_variable = { bureacrat_state_total = 0 }
        add_to_variable = { bureacrat_state_total = bureacrat_farm_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_arms_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_industrial_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_dockyard_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_oil_refinery_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_local_office_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_reactor_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_nuclear_power_employment = nuclear_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_power_employment = local_power_employment }
        add_to_variable = { bureacrat_state_total = bureacrat_refinery_employment = local_refinery_employment }

        set_variable = { professional_state_total = 0 }
        add_to_variable = { professional_state_total = professional_farm_employment }
        add_to_variable = { professional_state_total = professional_arms_employment }
        add_to_variable = { professional_state_total = professional_industrial_employment }        
        add_to_variable = { professional_state_total = professional_dockyard_employment }
        add_to_variable = { professional_state_total = professional_oil_refinery_employment }
        add_to_variable = { professional_state_total = professional_local_office_employment }
        add_to_variable = { professional_state_total = professional_nuclear_reactor_employment }
        add_to_variable = { professional_state_total = professional_nuclear_power_employment }
        add_to_variable = { professional_state_total = professional_power_employment }
        add_to_variable = { professional_state_total = professional_refinery_employment }

        set_variable = { elite_state_total = 0 }
        add_to_variable = { elite_state_total = elite_farm_employment }
        add_to_variable = { elite_state_total = elite_arms_employment }
        add_to_variable = { elite_state_total = elite_industrial_employment }
        add_to_variable = { elite_state_total = elite_dockyard_employment }
        add_to_variable = { elite_state_total = elite_oil_refinery_employment }
        add_to_variable = { elite_state_total = elite_local_office_employment }
        add_to_variable = { elite_state_total = elite_nuclear_power_employment } 
        add_to_variable = { elite_state_total = elite_power_employment }
        add_to_variable = { elite_state_total = elite_refinery_employment }

        set_variable = { total_workforce = 0 }
        add_to_variable = { total_workforce = laborer_state_total }
        add_to_variable = { total_workforce = worker_state_total }
        add_to_variable = { total_workforce = bureacrat_state_total }
        add_to_variable = { total_workforce = professional_state_total }
        add_to_variable = { total_workforce = elite_state_total }

        set_variable = { laborer_state_percentage = laborer_state_total }
        set_variable = { worker_state_percentage = worker_state_total }
        set_variable = { bureacrat_state_percentage = bureacrat_state_total }
        set_variable = { professional_state_percentage = professional_state_total }
        set_variable = { elite_state_percentage = elite_state_total }

        divide_variable = { laborer_state_percentage = total_workforce }
        divide_variable = { worker_state_percentage = total_workforce }
        divide_variable = { bureacrat_state_percentage = total_workforce }
        divide_variable = { professional_state_percentage = total_workforce }
        divide_variable = { elite_state_percentage = total_workforce }

        #Lower Class Serfs+Laborers
        set_variable = { lower_class_percentage = laborer_state_percentage }
        add_to_variable = { lower_class_percentage = peasant_state_percentage }

        #Middle Class Soldiers+Workers
        set_variable = { middle_class_percentage = worker_state_percentage }
        add_to_variable = { middle_class_percentage = soldier_state_percentage }

        #Upper Middle Class Bureacrats+Proffesionals
        set_variable = { upper_middle_class_percentage = bureacrat_state_percentage }
        add_to_variable = { upper_middle_class_percentage = professional_state_percentage }

        #Upper Class Elites
        set_variable = { upper_class_percentage = elite_state_percentage }

        #college_educated
        set_variable = {
            college_educated_temp = college_educated
        }
        multiply_variable = {
            college_educated_temp = 0.01
        }
        #elite bonus
        set_variable = {
            elite_modifier_bonus = 1
        }
        add_to_variable = {
            elite_modifier_bonus = college_educated_temp
        }
        subtract_from_variable = {
            college_educated_temp = upper_class_percentage
        }
        clamp_variable = {
            var = college_educated_temp
            min = 0
            max = 100
        }  
        set_variable = {
            divisor_upper = upper_middle_class_percentage
        }
        set_variable = {
           upper_middle_university_bonus = college_educated_temp
        }
        divide_variable = {
            upper_middle_university_bonus = divisor_upper
        }
        subtract_from_variable = {
            college_educated_temp = upper_middle_class_percentage
        }
        clamp_variable = {
            var = college_educated_temp
            min = 0
            max = 100
        }  
        #high_school_educated


        #primary_educated

        #literate_educated
        set_variable = { literate_educated_temp = literate_educated }
        multiply_variable = { literate_educated_temp = 0.01 }
        set_variable = {    #Penalty for Any Illiterate Lower Classes
            lower_class_economic_literate_income_modifier = literate_educated_temp
        }
        set_variable = {
            middle_class_illiteracy_malus = middle_class_percentage
        }
        subtract_from_variable = {
            middle_class_illiteracy_malus = literate_educated_temp
        }
        clamp_variable = {
            var = middle_class_illiteracy_malus
            min = 0
            max = 100
        }      



    }
    else_if = {

    }
}


